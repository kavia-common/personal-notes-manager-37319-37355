{"is_source_file": true, "format": "TypeScript", "description": "This file is a TypeScript module defining an API client for interacting with backend REST endpoints related to notes. It includes functions for CRUD operations, request handling with timeout and error normalization, and type definitions for data structures.", "external_files": ["./env", "./types"], "external_methods": ["getAPIBaseURL", "joinURL"], "published": ["APIClient", "Note", "APIError"], "classes": [], "methods": [{"name": "listNotes", "description": "Fetches a paginated list of notes with optional filters."}, {"name": "getNote", "description": "Retrieves a specific note by its ID."}, {"name": "createNote", "description": "Creates a new note with provided fields."}, {"name": "updateNote", "description": "Replaces an existing note with new data."}, {"name": "patchNote", "description": "Updates specific fields of an existing note."}, {"name": "deleteNote", "description": "Deletes a note by its ID."}, {"name": "function buildQuery(query?: RequestOptions['query']): string { buildQuery", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function request<TResp = unknown, TBody = unknown>(opts: RequestOptions<TBody>): Promise<T/ request", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function withTimeout(signal: AbortSignal | undefined, ms: number): AbortSignal { withTimeout", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getAPIBaseURL", "joinURL", "fetch"], "search-terms": ["api.ts", "Notes REST endpoints", "TypeScript API client", "Notes CRUD", "Note management"], "state": 2, "file_id": 10, "knowledge_revision": 23, "git_revision": "", "revision_history": [{"21": ""}, {"23": ""}], "ctags": [{"_type": "tag", "name": "APIClient", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^export const APIClient = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_TIMEOUT", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^const DEFAULT_TIMEOUT = 10000; \\/\\/ 10s$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "HTTPMethod", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^type HTTPMethod = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "RequestOptions", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^interface RequestOptions<TBody = unknown> {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "apiErr", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const apiErr: APIError = {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const base = getAPIBaseURL();$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  body?: TBody;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "buildQuery", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^function buildQuery(query?: RequestOptions['query']): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^      code,$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const code = typeof d === 'object' && d && typeof d['code'] === 'string'$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "contentType", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const contentType = resp.headers.get('content-type') || '';$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const controller = new AbortController();$/", "language": "TypeScript", "kind": "constant", "scope": "withTimeout", "scopeKind": "function"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const d = details as Record<string, unknown> | string | undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^      details,$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const e = err as unknown as { name?: string; message?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const headers: Record<string, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  headers?: Record<string, string>;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "isJSON", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const isJSON = contentType.includes('application\\/json');$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^      message: msg,$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const e = err as unknown as { name?: string; message?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  method?: HTTPMethod;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^    const msg = typeof d === 'object' && d && typeof d['message'] === 'string'$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  path: string;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const qs = sp.toString();$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuery", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  query?: Record<string, string | number | boolean | undefined>;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^async function request<TResp = unknown, TBody = unknown>(opts: RequestOptions<TBody>): Promise<T/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "signal", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const signal = withTimeout(opts.signal, opts.timeoutMs ?? DEFAULT_TIMEOUT);$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "signal", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  signal?: AbortSignal;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "sp", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const sp = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuery", "scopeKind": "function"}, {"_type": "tag", "name": "timeoutMs", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  timeoutMs?: number;$/", "language": "TypeScript", "kind": "property", "scope": "RequestOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "timer", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const timer = setTimeout(() => controller.abort(), ms);$/", "language": "TypeScript", "kind": "constant", "scope": "withTimeout", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^  const url = joinURL(base, opts.path) + buildQuery(opts.query);$/", "language": "TypeScript", "kind": "constant", "scope": "request", "scopeKind": "function"}, {"_type": "tag", "name": "withTimeout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/api.ts", "pattern": "/^function withTimeout(signal: AbortSignal | undefined, ms: number): AbortSignal {$/", "language": "TypeScript", "kind": "function"}], "hash": "57c0b9de0cd7c38fd62054f2f2f948ae", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/api.ts", "fields": [{"name": "interface RequestOptions<TBody = unknown> {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "body?: TBody;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "headers?: Record<string, string>;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "method?: HTTPMethod;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "path: string;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "query?: Record<string, string | number | boolean | undefined>;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "signal?: AbortSignal;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "timeoutMs?: number;", "scope": "RequestOptions", "scopeKind": "interface", "description": "unavailable"}]}