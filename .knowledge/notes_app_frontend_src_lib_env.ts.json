{"is_source_file": true, "format": "TypeScript", "description": "This file provides environment handling utilities for selecting API base URLs and environment variable access in a frontend project, supporting both server-side and client-side contexts.", "external_files": ["import.meta", "process"], "external_methods": ["typeof window", "typeof document", "typeof import.meta", "import.meta.env", "typeof process", "process.env"], "published": ["getEnv", "getAPIBaseURL", "joinURL"], "classes": [], "methods": [{"name": "export function getEnv(key: string): string | undefined { getEnv", "description": "Retrieves a public environment variable, considering both build-time injected variables and runtime process environment, with safeguards for different execution contexts.", "scope": "", "scopeKind": ""}, {"name": "export function getAPIBaseURL(): string { getAPIBaseURL", "description": "Determines the API base URL based on environment variables and window location, with priority order and normalization.", "scope": "", "scopeKind": ""}, {"name": "export function joinURL(base: string, path: string): string { joinURL", "description": "Concatenates a base URL and a path segment ensuring proper slash handling.", "scope": "", "scopeKind": ""}], "calls": ["typeof window", "typeof document", "typeof import.meta", "import.meta.env", "typeof process", "process.env"], "search-terms": ["env", "API base URL", "environment handling", "build-time variables", "browser environment", "public env", "URL joining"], "state": 2, "file_id": 9, "knowledge_revision": 26, "git_revision": "", "revision_history": [{"19": ""}, {"22": ""}, {"26": ""}], "ctags": [{"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const b = base.replace(\\/\\\\\\/+$\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "joinURL", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const base = (candidates[0] ?? '').replace(\\/\\\\\\/+$\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "getAPIBaseURL", "scopeKind": "function"}, {"_type": "tag", "name": "candidates", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const candidates = [$/", "language": "TypeScript", "kind": "constant", "scope": "getAPIBaseURL", "scopeKind": "function"}, {"_type": "tag", "name": "getAPIBaseURL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function getAPIBaseURL(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function getEnv(key: string): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isBrowser", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "joinURL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function joinURL(base: string, path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const p = path.replace(\\/^\\\\\\/+\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "joinURL", "scopeKind": "function"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^    const value = (import.meta as unknown as { env?: Record<string, unknown> }).env?.[key];$/", "language": "TypeScript", "kind": "constant", "scope": "getEnv", "scopeKind": "function"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^    const value = (process as unknown as { env?: Record<string, unknown> }).env?.[key];$/", "language": "TypeScript", "kind": "constant", "scope": "getEnv", "scopeKind": "function"}], "hash": "394b6729a2c995429df96946af6b5498", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/env.ts"}