{"is_source_file": true, "format": "TypeScript", "description": "This file contains environment handling utilities for a front-end project, including functions to determine environment variables, construct API URLs, and detect browser environment.", "external_files": ["import.meta.env", "window.location", "process.env"], "external_methods": ["typeof window", "typeof document", "typeof import.meta", "typeof process", "window.location.origin", "import.meta.env", "process.env"], "published": ["getEnv", "getAPIBaseURL", "joinURL"], "classes": [], "methods": [{"name": "export function getEnv(key: string): string | undefined { getEnv", "description": "Retrieves a public environment variable, checking import.meta.env and process.env, with safeguards for different runtime environments.", "scope": "", "scopeKind": ""}, {"name": "export function getAPIBaseURL(): string { getAPIBaseURL", "description": "Determines the API base URL using environment variables or window location in browsers, normalizing trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "export function joinURL(base: string, path: string): string { joinURL", "description": "Joins a base URL and a path segment safely without duplicate slashes.", "scope": "", "scopeKind": ""}], "calls": ["typeof window", "typeof document", "typeof import.meta", "typeof process", "import.meta.env[key]", "process.env[key]", "window.location.origin"], "search-terms": ["env.ts", "getEnv", "API base URL", "environment variable", "browser detection", "URL joining", "build-time env"], "state": 2, "file_id": 9, "knowledge_revision": 19, "git_revision": "", "ctags": [{"_type": "tag", "name": "b", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const b = base.replace(\\/\\\\\\/+$\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "joinURL", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const base = (candidates[0] ?? '').replace(\\/\\\\\\/+$\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "getAPIBaseURL", "scopeKind": "function"}, {"_type": "tag", "name": "candidates", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const candidates = [$/", "language": "TypeScript", "kind": "constant", "scope": "getAPIBaseURL", "scopeKind": "function"}, {"_type": "tag", "name": "getAPIBaseURL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function getAPIBaseURL(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function getEnv(key: string): string | undefined {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "isBrowser", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "joinURL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^export function joinURL(base: string, path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^    const value = import.meta.env[key];$/", "language": "TypeScript", "kind": "constant", "scope": "getEnv", "scopeKind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^  const p = path.replace(\\/^\\\\\\/+\\/, '');$/", "language": "TypeScript", "kind": "constant", "scope": "joinURL", "scopeKind": "function"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^    const value = (process as any).env[key];$/", "language": "TypeScript", "kind": "constant", "scope": "getEnv", "scopeKind": "function"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/env.ts", "pattern": "/^    const value = import.meta.env[key];$/", "language": "TypeScript", "kind": "constant", "scope": "getEnv", "scopeKind": "function"}], "hash": "32d3a57cd3205acb935607c174478002", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/env.ts", "revision_history": [{"19": ""}]}