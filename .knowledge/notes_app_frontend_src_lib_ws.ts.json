{"is_source_file": true, "format": "TypeScript", "description": "This file defines a WebSocket client for live note updates, connecting to a backend service if a URL is provided, and emitting 'notesUpdated' events on relevant messages.", "external_files": ["./env"], "external_methods": ["getEnv"], "published": ["connectNotesWebSocket"], "classes": [], "methods": [{"name": "export function connectNotesWebSocket(): () => void { connectNotesWebSocket", "description": "Establishes a WebSocket connection to receive real-time updates for notes and dispatches 'notesUpdated' events upon receiving relevant messages.", "scope": "", "scopeKind": ""}], "calls": ["getEnv", "WebSocket", "window.dispatchEvent", "setTimeout", "clearTimeout", "JSON.parse"], "search-terms": ["WebSocket", "notesUpdated", "live updates", "connectNotesWebSocket", "emit event", "reconnection"], "state": 2, "file_id": 12, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "WS_URL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^  const WS_URL = getEnv('PUBLIC_WS_URL');$/", "language": "TypeScript", "kind": "constant", "scope": "connectNotesWebSocket", "scopeKind": "function"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^  const connect = () => {$/", "language": "TypeScript", "kind": "constant", "scope": "connectNotesWebSocket", "scopeKind": "function"}, {"_type": "tag", "name": "connectNotesWebSocket", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^export function connectNotesWebSocket(): () => void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "log", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^  const log = (...args: unknown[]) => {$/", "language": "TypeScript", "kind": "constant", "scope": "connectNotesWebSocket", "scopeKind": "function"}, {"_type": "tag", "name": "onMessage", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^  const onMessage = (ev: MessageEvent) => {$/", "language": "TypeScript", "kind": "constant", "scope": "connectNotesWebSocket", "scopeKind": "function"}, {"_type": "tag", "name": "scheduleReconnect", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-37319-37355/notes_app_frontend/src/lib/ws.ts", "pattern": "/^  const scheduleReconnect = () => {$/", "language": "TypeScript", "kind": "constant", "scope": "connectNotesWebSocket", "scopeKind": "function"}], "hash": "f746eb973fc8d0a96845e68fe6b8e402", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/lib/ws.ts", "revision_history": [{"31": ""}]}